{% extends 'base.html' %}
{% block content %}

<div class="header-profile">
    <h1>–ü—Ä–æ—Ñ—ñ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞</h1>
</div>

<section class="profile-container">
    <!-- –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ -->
    <div class="profile-header">
            <div class="avatar-container">
        <!-- –ê–≤–∞—Ç–∞—Ä–∫–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ -->
        <img src="{{ url_for('static', filename='avatars/' + user.avatar) }}" alt="Avatar" class="profile-avatar">

        <!-- –§–æ—Ä–º–∞ –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∞–≤–∞—Ç–∞—Ä–∫–∏ -->
        <form action="{{ url_for('upload_avatar') }}" method="POST" enctype="multipart/form-data" class="avatar-upload-form">
            <!-- –ú—ñ—Ç–∫–∞ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –≤–∏–±–æ—Ä—É —Ñ–∞–π–ª—É, —è–∫–∞ –≤–∏–≥–ª—è–¥–∞—î —è–∫ –∫–Ω–æ–ø–∫–∞ –∑–º—ñ–Ω–∏ –∞–≤–∞—Ç–∞—Ä–∞ -->
            <label for="avatar-input" class="avatar-upload-label" title="–ó–º—ñ–Ω–∏—Ç–∏ –∞–≤–∞—Ç–∞—Ä"></label>
            <!-- –ü—Ä–∏—Ö–æ–≤–∞–Ω–µ –ø–æ–ª–µ –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—É -->
            <input type="file" id="avatar-input" name="avatar" accept="image/*" onchange="this.form.submit()">
        </form>
    </div>


        <div class="profile-info">
            <h2>{{ user.username }}</h2>
            <div class="user-info">
                <p><strong>Email:</strong> {{ user.email }}</p>
            </div>
        </div>
    </div>
</section>

<!-- –°–ø–∏—Å–æ–∫ –≤—ñ–¥–µ–æ -->
<section class="videos-profile-container">
    <div class="videos-header">
        <h3>–ú–æ—ó –≤—ñ–¥–µ–æ</h3>
        <form action="{{ url_for('upload_file') }}" method="POST" enctype="multipart/form-data" class="upload-button-form">
            <label for="video-upload" class="upload-button">‚ûï –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤—ñ–¥–µ–æ</label>
            <input type="file" name="video" id="video-upload" accept="video/mp4,video/webm" required onchange="this.form.submit()">
        </form>
    </div>
    <div class="videos-grid">
        {% for video in videos %}
        <div class="video-card">
            <video width="100%" height="200" controls>
                <source src="{{ url_for('static', filename='uploads/' ~ video) }}" type="video/mp4">
                –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î –≤—ñ–¥–µ–æ.
            </video>
            <div class="video-info">
                <h4>{{ video }}</h4>
                <form action="{{ url_for('delete_video', filename=video) }}" method="POST" onsubmit="return confirm('–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ –≤–∏–¥–∞–ª–∏—Ç–∏ —Ü–µ –≤—ñ–¥–µ–æ?');">
                    <button type="submit" class="delete-button">üóëÔ∏è –í–∏–¥–∞–ª–∏—Ç–∏</button>
                </form>
            </div>
        </div>
        {% endfor %}
    </div> 
</section>

{% endblock %}